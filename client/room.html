<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>virtualtabletop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <link rel="shortcut icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="/>
  <style> {{CSS}} </style>
</head>

<body>

  <div id="toolbar">
    <button id="statesButton" data-overlay="statesOverlay" class="toolbarButton">🎲<span class="tooltip">Game list</span></button>
    <button id="playersButton" data-overlay="playerOverlay" class="toolbarButton">👪<span class="tooltip">Player list</span></button>
    <button id="editButton" class="toolbarButton">🏗️<span class="tooltip">Edit mode</span></button>
    <button id="addButton" data-overlay="addOverlay" class="toolbarButton">➕<span class="tooltip">Add widget</span></button>
    <button id="fullscreenButton" class="toolbarButton">📺<span class="tooltip">Fullscreen</span></button>
  </div>

  <div id="roomArea">
    <div id="room">
      <div id="topSurface" class="surface"></div>
    </div>

    <div id="editOverlay" class="overlay">
      <h1>Edit widget</h1>
      <textarea id="editWidgetJSON"></textarea>
      <button id="updateWidget">Update widget</button>
      <button id="removeWidget">Remove widget</button>
    </div>

    <div id="addOverlay" class="overlay">
      <h1>Add widget</h1>
      <textarea id="widgetText">
        {
          "image": "https://upload.wikimedia.org/wikipedia/commons/8/87/AH.svg"
        }
      </textarea>
      <button id="addWidget">Add widget</button>
    </div>

    <div id="buttonInputOverlay" class="overlay">
      <h1>Button Input</h1>
      <div id="buttonInputFields"></div>
      <button id="buttonInputGo">Go</button>
      <button id="buttonInputCancel">Cancel</button>
    </div>

    <div id="playerOverlay" class="overlay">
      <h1>Players</h1>
      <div id="playerList">
        <script id="template-playerlist-entry" type="text/template">
          <input type="color" class="teamColor"></span> <input class="playerName" />
        </script>
      </div>
    </div>

    <div id="statesOverlay" class="overlay">
      <h1>Games</h1>
      <div id="statesList">
        <script id="template-stateslist-entry" type="text/template">
          <img>
          <div class="details">
            <em><a class="bgg" target="_blank">Name (Year)</a></em>
            <em>⌛ <span class="time">0</span> minutes - <a class="rules" target="_blank">Rules</a></em>
            <div class="variantsList"></div>
            <p><button class="save" disabled>💾 Save in-progress game</button><button class="edit">✏️ Edit</button></p>
          </div>
        </script>
        <script id="template-variantslist-entry" type="text/template">
          <button class="play">▶️ Play: <span class="language">🇺🇸</span> 👪 <span class="players">0</span><br><span class="variant"></span></button>
        </script>
        <div id="addState">
          <div class="image">➕</div>
          <div class="buttons">
            <button class="create">➕ Use current room state</button>
            <button class="library" disabled>📚 Public library</button>
            <button class="link">🔗 Enter link</button>
            <button class="upload">⬆️ Upload file</button>
            <button class="download">⬇️ Download all</button>
          </div>
        </div>
      </div>
    </div>

    <div id="stateEditOverlay" class="overlay">
      <h1>Edit game</h1>
      <div class="details">
        <div class="input"><label for="stateName">Name:</label> <input id="stateName"/></div>
        <div class="input"><label for="stateYear">Year:</label> <input id="stateYear"/></div>
        <div class="input"><label for="stateRules">Rules link:</label> <input id="stateRules"/></div>
        <div class="input"><label for="stateMode">Mode:</label> <input id="stateMode"/></div>
        <div class="input"><label for="stateTime">Time:</label> <input id="stateTime"/></div>
        <div class="input"><label for="stateBGG">BordGameGeek link:</label> <input id="stateBGG"/></div>
        <div class="input"><label for="stateImage">Image URL:</label> <input id="stateImage"/></div>
      </div>
      <h2>Variants</h2>
      <div id="variantsEditList">
        <script id="template-variantseditlist-entry" type="text/template">
          <div class="input"><label>Language (country code):</label> <input class="stateLanguage"/></div>
          <div class="input"><label>Players:</label> <input class="statePlayers"/></div>
          <div class="input"><label>Variant:</label> <input class="stateVariant"/></div>
          <div class="input"><label>Update link:</label> <input class="stateLink"/></div>
          <div class="input" style="display: none"><label>Etag:</label> <input class="stateEtag"/></div>
          <button class="download">⬇️ Download variant</button>
          <button class="remove">❌ Remove variant</button>
        </script>
      </div>
      <div id="addVariant" class="buttons">
        Add variant:
        <button class="create">➕ Use current room state</button>
        <button class="library" disabled>📚 Public library</button>
        <button class="link">🔗 Enter link</button>
        <button class="upload">⬆️ Upload file</button>
      </div>
      <p><button class="save">✔️ Save</button><button class="download">⬇️ Download</button><button class="remove">❌ Remove</button></p>
    </div>
  </div>

  <div id="enlarged" class="hidden"></div>

  <script> {{JS}} </script>

</body>

</html>
